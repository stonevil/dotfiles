# vim:ft=go

[scriptEnv]
	SOFTWARE_DOWNLOAD_CMD="curl --connect-timeout 300 --retry 5 --retry-delay 20 --silent --insecure --location"

{{ $email := promptString "email" -}}
{{ $workstation := promptBool "workstation" false -}}

[data]
	workstation = {{ $workstation | default false }}
	email = {{ $email | quote }}

[data.wezterm.hdpi]
  fontsize = 15

[data.wezterm.fhd]
  fontsize = 16

[data.libc]
{{ if (and (eq .chezmoi.os "linux") (eq .chezmoi.osRelease.id "alpine")) }}
	platform = "musl"
{{ else }}
	platform = "gnu"
{{ end }}

[data.tools.fzf]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/junegunn/fzf/releases/latest" | trim | base }}"

[data.tools.bat]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/sharkdp/bat/releases/latest" | trim | base }}"

[data.tools.chezmoi]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/twpayne/chezmoi/releases/latest" | trim | base }}"

[data.tools.helm]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/helm/helm/releases/latest" | trim | base }}"

[data.tools.rke]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/rancher/rke/releases/latest" | trim | base }}"

[data.tools.kubectl]
	version = "1.14.8"

[data.tools.krew]
	version = "{{ output "curl" "-fsSL" "-o" "/dev/null" "-w" "%{url_effective}" "https://github.com/kubernetes-sigs/krew/releases/latest" | trim | base }}"

{{- writeToStdout "email address is: " $email "\n" -}}
{{ if $workstation }}
	{{- writeToStdout "is workstation?: true\n" -}}
{{ else }}
	{{- writeToStdout "is workstation?: false\n" -}}
{{ end }}
